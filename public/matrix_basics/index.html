<!doctype html><html lang=en dir=auto data-theme=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>矩阵基础知识 | LLM Basics for Beginners</title>
<meta name=keywords content><meta name=description content="矩阵基础知识
矩阵定义
矩阵是一个由数值排列成的矩形阵列，是线性代数中的基本概念。
矩阵的维度
一个具有 ( m ) 行和 ( n ) 列的矩阵被称为 ( m \times n ) 矩阵。
$$
A = \begin{bmatrix}
a_{11} & a_{12} & \cdots & a_{1n} \
a_{21} & a_{22} & \cdots & a_{2n} \
\vdots & \vdots & \ddots & \vdots \
a_{m1} & a_{m2} & \cdots & a_{mn} \
\end{bmatrix}
$$
矩阵的元素
矩阵中的每个数值称为元素，通常用 ( a_{ij} ) 表示第 ( i ) 行第 ( j ) 列的元素。"><meta name=author content><link rel=canonical href=https://akzj.github.io/llm-basics-for-beginners/matrix_basics/><link crossorigin=anonymous href=/llm-basics-for-beginners/assets/css/stylesheet.343cc480b9ffc8f04ccbe5e968ad674880cab773ec19905e93033065c1e7a804.css integrity="sha256-NDzEgLn/yPBMy+XpaK1nSIDKt3PsGZBekwMwZcHnqAQ=" rel="preload stylesheet" as=style><link rel=icon href=https://akzj.github.io/llm-basics-for-beginners/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://akzj.github.io/llm-basics-for-beginners/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://akzj.github.io/llm-basics-for-beginners/favicon-32x32.png><link rel=apple-touch-icon href=https://akzj.github.io/llm-basics-for-beginners/apple-touch-icon.png><link rel=mask-icon href=https://akzj.github.io/llm-basics-for-beginners/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=en href=https://akzj.github.io/llm-basics-for-beginners/matrix_basics/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51);color-scheme:dark}.list{background:var(--theme)}.toc{background:var(--entry)}}@media(prefers-color-scheme:light){.list::-webkit-scrollbar-thumb{border-color:var(--code-bg)}}</style></noscript><script>localStorage.getItem("pref-theme")==="dark"?document.querySelector("html").dataset.theme="dark":localStorage.getItem("pref-theme")==="light"?document.querySelector("html").dataset.theme="light":window.matchMedia("(prefers-color-scheme: dark)").matches?document.querySelector("html").dataset.theme="dark":document.querySelector("html").dataset.theme="light"</script><link rel=stylesheet href=/llm-basics-for-beginners/css/custom.min.7d2ee8ecd3b435c2f737e79952e8b22b4022ee7ba372f20c8c44f3a2792a885f.css integrity="sha256-fS7o7NO0NcL3N+eZUuiyK0Ai7nujcvIMjETzonkqiF8="><script defer type=text/javascript id=MathJax-script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js?config=TeX-MML-AM_CHTML"></script><script defer type=text/javascript>MathJax={tex:{inlineMath:[["$","$"],["\\(","\\)"]],displayMath:[["$$","$$"],["\\[","\\]"]],processEscapes:!0,processEnvironments:!0,packages:["base","ams","noerrors","noundefined"]},options:{skipHtmlTags:["script","noscript","style","textarea","pre"],enableMenu:!1},loader:{load:["[tex]/ams","[tex]/noerrors","[tex]/noundefined"]}}</script><meta property="og:url" content="https://akzj.github.io/llm-basics-for-beginners/matrix_basics/"><meta property="og:site_name" content="LLM Basics for Beginners"><meta property="og:title" content="矩阵基础知识"><meta property="og:description" content="矩阵基础知识 矩阵定义 矩阵是一个由数值排列成的矩形阵列，是线性代数中的基本概念。
矩阵的维度 一个具有 ( m ) 行和 ( n ) 列的矩阵被称为 ( m \times n ) 矩阵。
$$ A = \begin{bmatrix} a_{11} & a_{12} & \cdots & a_{1n} \ a_{21} & a_{22} & \cdots & a_{2n} \ \vdots & \vdots & \ddots & \vdots \ a_{m1} & a_{m2} & \cdots & a_{mn} \ \end{bmatrix} $$
矩阵的元素 矩阵中的每个数值称为元素，通常用 ( a_{ij} ) 表示第 ( i ) 行第 ( j ) 列的元素。"><meta property="og:locale" content="zh-cn"><meta property="og:type" content="article"><meta property="article:published_time" content="2025-01-01T00:00:00+08:00"><meta property="article:modified_time" content="2025-01-01T00:00:00+08:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="矩阵基础知识"><meta name=twitter:description content="矩阵基础知识
矩阵定义
矩阵是一个由数值排列成的矩形阵列，是线性代数中的基本概念。
矩阵的维度
一个具有 ( m ) 行和 ( n ) 列的矩阵被称为 ( m \times n ) 矩阵。
$$
A = \begin{bmatrix}
a_{11} & a_{12} & \cdots & a_{1n} \
a_{21} & a_{22} & \cdots & a_{2n} \
\vdots & \vdots & \ddots & \vdots \
a_{m1} & a_{m2} & \cdots & a_{mn} \
\end{bmatrix}
$$
矩阵的元素
矩阵中的每个数值称为元素，通常用 ( a_{ij} ) 表示第 ( i ) 行第 ( j ) 列的元素。"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"矩阵基础知识","item":"https://akzj.github.io/llm-basics-for-beginners/matrix_basics/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"矩阵基础知识","name":"矩阵基础知识","description":"矩阵基础知识 矩阵定义 矩阵是一个由数值排列成的矩形阵列，是线性代数中的基本概念。\n矩阵的维度 一个具有 ( m ) 行和 ( n ) 列的矩阵被称为 ( m \\times n ) 矩阵。\n$$ A = \\begin{bmatrix} a_{11} \u0026amp; a_{12} \u0026amp; \\cdots \u0026amp; a_{1n} \\ a_{21} \u0026amp; a_{22} \u0026amp; \\cdots \u0026amp; a_{2n} \\ \\vdots \u0026amp; \\vdots \u0026amp; \\ddots \u0026amp; \\vdots \\ a_{m1} \u0026amp; a_{m2} \u0026amp; \\cdots \u0026amp; a_{mn} \\ \\end{bmatrix} $$\n矩阵的元素 矩阵中的每个数值称为元素，通常用 ( a_{ij} ) 表示第 ( i ) 行第 ( j ) 列的元素。\n","keywords":[],"articleBody":"矩阵基础知识 矩阵定义 矩阵是一个由数值排列成的矩形阵列，是线性代数中的基本概念。\n矩阵的维度 一个具有 ( m ) 行和 ( n ) 列的矩阵被称为 ( m \\times n ) 矩阵。\n$$ A = \\begin{bmatrix} a_{11} \u0026 a_{12} \u0026 \\cdots \u0026 a_{1n} \\ a_{21} \u0026 a_{22} \u0026 \\cdots \u0026 a_{2n} \\ \\vdots \u0026 \\vdots \u0026 \\ddots \u0026 \\vdots \\ a_{m1} \u0026 a_{m2} \u0026 \\cdots \u0026 a_{mn} \\ \\end{bmatrix} $$\n矩阵的元素 矩阵中的每个数值称为元素，通常用 ( a_{ij} ) 表示第 ( i ) 行第 ( j ) 列的元素。\n特殊类型的矩阵 类型 定义 示例 行矩阵（Row Matrix） 只有一行的矩阵 $[1, 2, 3]$ 或 $\\begin{pmatrix} 1 \u0026 2 \u0026 3 \\end{pmatrix}$ 列矩阵（Column Matrix） 只有一列的矩阵 $[1; 2; 3]$ 或 $\\begin{pmatrix} 1 \\ 2 \\ 3 \\end{pmatrix}$ 方阵（Square Matrix） 行数等于列数的矩阵 $[[1, 2], [3, 4]]$ 或 $\\begin{pmatrix} 1 \u0026 2 \\ 3 \u0026 4 \\end{pmatrix}$ 零矩阵（Zero Matrix） 所有元素都为0的矩阵 $\\begin{pmatrix} 0 \u0026 0 \\ 0 \u0026 0 \\end{pmatrix}$ 单位矩阵（Identity Matrix） 主对角线上元素为1，其余为0的方阵 $\\begin{pmatrix} 1 \u0026 0 \\ 0 \u0026 1 \\end{pmatrix}$ 对角矩阵（Diagonal Matrix） 只有主对角线上有非零元素的方阵 $\\begin{pmatrix} 2 \u0026 0 \\ 0 \u0026 3 \\end{pmatrix}$ 对称矩阵（Symmetric Matrix） 满足 $A^T = A$ 的方阵 $\\begin{pmatrix} 1 \u0026 2 \\ 2 \u0026 1 \\end{pmatrix}$ 上三角矩阵（Upper Triangular Matrix） 主对角线下方元素都为0的方阵 $\\begin{pmatrix} 1 \u0026 2 \\ 0 \u0026 3 \\end{pmatrix}$ 下三角矩阵（Lower Triangular Matrix） 主对角线上方元素都为0的方阵 $\\begin{pmatrix} 1 \u0026 0 \\ 2 \u0026 3 \\end{pmatrix}$ 矩阵示例说明 为了更清晰地表示矩阵，我们可以使用不同的表示法：\n行矩阵：$[1, 2, 3]$ 或 $\\begin{pmatrix} 1 \u0026 2 \u0026 3 \\end{pmatrix}$ 列矩阵：$[1; 2; 3]$ 或 $\\begin{pmatrix} 1 \\ 2 \\ 3 \\end{pmatrix}$ 方阵：$[[1, 2], [3, 4]]$ 或 $\\begin{pmatrix} 1 \u0026 2 \\ 3 \u0026 4 \\end{pmatrix}$ 矩阵运算 1. 矩阵加法 两个相同维度的矩阵可以相加，结果是对应元素相加得到的新矩阵。\n定义：若 ( A = [a_{ij}] ) 和 ( B = [b_{ij}] ) 都是 ( m \\times n ) 矩阵，则 ( A + B = [a_{ij} + b_{ij}] )。\n示例：\n$$ \\begin{pmatrix} 1 \u0026 2 \\ 3 \u0026 4 \\end{pmatrix} + \\begin{pmatrix} 5 \u0026 6 \\ 7 \u0026 8 \\end{pmatrix} = \\begin{pmatrix} 6 \u0026 8 \\ 10 \u0026 12 \\end{pmatrix} $$\n2. 矩阵数乘 一个数（标量）可以与矩阵相乘，结果是矩阵的每个元素都乘以该数。\n定义：若 ( A = [a_{ij}] ) 是 ( m \\times n ) 矩阵，( k ) 是一个标量，则 ( kA = [ka_{ij}] )。\n示例：\n$$ 2 \\times \\begin{pmatrix} 1 \u0026 2 \\ 3 \u0026 4 \\end{pmatrix} = \\begin{pmatrix} 2 \u0026 4 \\ 6 \u0026 8 \\end{pmatrix} $$\n3. 矩阵乘法 矩阵乘法是矩阵运算中最重要的运算之一。\n定义：若 ( A ) 是 ( m \\times p ) 矩阵，( B ) 是 ( p \\times n ) 矩阵，则 ( AB ) 是 ( m \\times n ) 矩阵，其中：\n$$ (AB){ij} = \\sum{k=1}^p a_{ik}b_{kj} $$\n示例：\n$$ \\begin{pmatrix} 1 \u0026 2 \\ 3 \u0026 4 \\end{pmatrix} \\times \\begin{pmatrix} 5 \u0026 6 \\ 7 \u0026 8 \\end{pmatrix} = \\begin{pmatrix} 19 \u0026 22 \\ 43 \u0026 50 \\end{pmatrix} $$\n注意：矩阵乘法不满足交换律，即 ( AB \\neq BA )（一般情况下）。\n4. 矩阵转置 矩阵的转置是将矩阵的行和列互换。\n定义：若 ( A = [a_{ij}] ) 是 ( m \\times n ) 矩阵，则转置矩阵 ( A^T = [a_{ji}] ) 是 ( n \\times m ) 矩阵。\n示例：\n$$ \\begin{pmatrix} 1 \u0026 2 \\ 3 \u0026 4 \\ 5 \u0026 6 \\end{pmatrix}^T = \\begin{pmatrix} 1 \u0026 3 \u0026 5 \\ 2 \u0026 4 \u0026 6 \\end{pmatrix} $$\n性质：\n( (A^T)^T = A ) ( (A + B)^T = A^T + B^T ) ( (AB)^T = B^T A^T ) 矩阵的逆 定义 对于一个 ( n \\times n ) 方阵 ( A )，如果存在另一个 ( n \\times n ) 方阵 ( B )，使得：\n$$ AB = BA = I_n $$\n其中 ( I_n ) 是 ( n \\times n ) 单位矩阵，则称 ( A ) 是可逆的或非奇异的，并称 ( B ) 是 ( A ) 的逆矩阵，记作 ( A^{-1} )。\n逆矩阵的性质 ( (A^{-1})^{-1} = A ) ( (kA)^{-1} = \\frac{1}{k}A^{-1} )（( k \\neq 0 )） ( (AB)^{-1} = B^{-1}A^{-1} ) ( (A^T)^{-1} = (A^{-1})^T ) 如何求逆矩阵 对于 ( 2 \\times 2 ) 矩阵，有一个简单的逆矩阵公式：\n$$ \\text{若 } A = \\begin{pmatrix} a \u0026 b \\ c \u0026 d \\end{pmatrix}, \\text{ 则 } A^{-1} = \\frac{1}{ad - bc} \\begin{pmatrix} d \u0026 -b \\ -c \u0026 a \\end{pmatrix} $$\n其中 ( ad - bc ) 称为 ( A ) 的行列式（Determinant），记作 ( \\det(A) )。如果 ( \\det(A) = 0 )，则矩阵 ( A ) 是奇异的，没有逆矩阵。\n矩阵的应用 在线性代数中 解线性方程组：( Ax = b ) 向量空间的线性变换 特征值和特征向量分析 在机器学习中 数据表示（特征矩阵、权重矩阵） 线性回归、逻辑回归 神经网络（权重矩阵、激活函数） 主成分分析（PCA） 奇异值分解（SVD） 在LLM中的应用 词向量表示 注意力机制中的查询（Query）、键（Key）、值（Value）矩阵 多头注意力中的投影矩阵 前馈神经网络中的权重矩阵 层归一化中的参数矩阵 行列式（Determinant） 定义 行列式是一个将方阵映射到标量的函数，记作 ( \\det(A) ) 或 ( |A| )。\n计算方法 2x2矩阵：\n$$ \\det\\begin{pmatrix} a \u0026 b \\ c \u0026 d \\end{pmatrix} = ad - bc $$\n3x3矩阵：\n$$ \\det\\begin{pmatrix} a \u0026 b \u0026 c \\ d \u0026 e \u0026 f \\ g \u0026 h \u0026 i \\end{pmatrix} = a(ei - fh) - b(di - fg) + c(dh - eg) $$\nn阶矩阵：使用余子式展开\n行列式的性质 ( \\det(I_n) = 1 ) ( \\det(AB) = \\det(A)\\det(B) ) ( \\det(A^T) = \\det(A) ) 若矩阵的某一行（或列）全为0，则行列式为0 若矩阵的某一行（或列）乘以常数 ( k )，则行列式变为原来的 ( k ) 倍 特征值和特征向量 定义 对于 ( n imes n ) 方阵 ( A )，如果存在标量 ( \\lambda ) 和非零向量 ( v )，使得：\n$$ Av = \\lambda v $$\n则称 ( \\lambda ) 是 ( A ) 的特征值，( v ) 是 ( A ) 对应于 ( \\lambda ) 的特征向量。\n求解方法 特征值可以通过求解特征方程得到：\n$$ \\det(A - \\lambda I) = 0 $$\n特征值和特征向量的性质 矩阵 ( A ) 的所有特征值之和等于 ( A ) 的迹（主对角线元素之和） 矩阵 ( A ) 的所有特征值之积等于 ( \\det(A) ) 若 ( A ) 是对称矩阵，则其特征值都是实数，且特征向量正交 在LLM中的应用 主成分分析（PCA）降维 矩阵分解（如SVD） 理解神经网络的权重分布 注意力机制中的重要性分析 矩阵分解 定义 矩阵分解是将一个矩阵表示为多个简单矩阵的乘积。\n常见的矩阵分解 LU分解：( A = LU )，其中 ( L ) 是下三角矩阵，( U ) 是上三角矩阵 QR分解：( A = QR )，其中 ( Q ) 是正交矩阵，( R ) 是上三角矩阵 奇异值分解（SVD）：( A = U\\Sigma V^T )，其中 ( U ) 和 ( V ) 是正交矩阵，( \\Sigma ) 是对角矩阵 特征值分解：( A = V\\Lambda V^{-1} )，其中 ( \\Lambda ) 是对角矩阵（包含特征值），( V ) 是特征向量矩阵 奇异值分解（SVD）在LLM中的应用 SVD是LLM中非常重要的矩阵分解方法，用于：\n词向量的降维和压缩 主题模型分析（如LSA） 推荐系统 文本摘要和信息检索 矩阵的秩 定义 矩阵的秩是矩阵中行向量或列向量的最大线性无关组的大小，记作 ( \\text{rank}(A) )。\n性质 ( 0 \\leq \\text{rank}(A) \\leq \\min(m, n) )（( A ) 是 ( m \\times n ) 矩阵） ( \\text{rank}(A^T) = \\text{rank}(A) ) ( \\text{rank}(AB) \\leq \\min(\\text{rank}(A), \\text{rank}(B)) ) ( A ) 是可逆矩阵当且仅当 ( \\text{rank}(A) = n )（( A ) 是 ( n \\times n ) 方阵） 线性变换 定义 矩阵可以表示向量空间中的线性变换。对于 ( n ) 维向量 ( x )，线性变换 ( T ) 可以表示为：\n$$ T(x) = Ax $$\n其中 ( A ) 是 ( m \\times n ) 矩阵。\n常见的线性变换 旋转（Rotation） 缩放（Scaling） 反射（Reflection） 投影（Projection） 在线性代数中的应用 线性变换是线性代数的核心概念之一，用于：\n理解向量空间的结构 解线性方程组 分析矩阵的性质 矩阵的范数 定义 矩阵的范数是一个将矩阵映射到非负实数的函数，用于衡量矩阵的大小或长度。\n常见的矩阵范数 1-范数（列和范数）：\n$$ |A|1 = \\max{1 \\leq j \\leq n} \\sum_{i=1}^m |a_{ij}| $$\n∞-范数（行和范数）：\n$$ |A|\\infty = \\max{1 \\leq i \\leq m} \\sum_{j=1}^n |a_{ij}| $$\nFrobenius范数：\n$$ |A|F = \\sqrt{\\sum{i=1}^m \\sum_{j=1}^n |a_{ij}|^2} $$\n2-范数（谱范数）：\n$$ |A|2 = \\sqrt{\\lambda{\\text{max}}(A^TA)} $$\n其中 ( \\lambda_{\\text{max}}(A^TA) ) 是 ( A^TA ) 的最大特征值。\n矩阵范数的性质 非负性：( |A| \\geq 0 )，且 ( |A| = 0 ) 当且仅当 ( A = 0 ) 齐次性：( |kA| = |k||A| )（( k ) 是标量） 三角不等式：( |A + B| \\leq |A| + |B| ) 次乘性：( |AB| \\leq |A||B| ) 矩阵的条件数 定义 矩阵的条件数用于衡量矩阵的“病态程度”，即矩阵对输入扰动的敏感程度。对于非奇异矩阵 ( A )，其条件数定义为：\n$$ \\text{cond}(A) = |A||A^{-1}| $$\n条件数的性质 ( \\text{cond}(A) \\geq 1 ) ( \\text{cond}(kA) = \\text{cond}(A) )（( k \\neq 0 )） ( \\text{cond}(AB) \\leq \\text{cond}(A)\\text{cond}(B) ) 应用 条件数在线性方程组求解中非常重要：\n如果 ( \\text{cond}(A) ) 很大，矩阵 ( A ) 是病态的，求解 ( Ax = b ) 时对输入扰动很敏感 如果 ( \\text{cond}(A) ) 接近1，矩阵 ( A ) 是良态的，求解 ( Ax = b ) 时结果稳定 总结 矩阵是线性代数的核心概念，也是LLM中最重要的数学工具之一。理解矩阵的基本概念、运算规则和应用场景对于掌握LLM的工作原理至关重要。\n在LLM中，矩阵主要用于：\n词向量的表示和转换 注意力机制中的相似度计算 神经网络中的权重表示和计算 模型参数的优化和训练 掌握矩阵的基础知识是学习LLM的重要数学基础，希望本文能够帮助你更好地理解矩阵的概念和应用。\n进一步学习资源 Gilbert Strang, “Introduction to Linear Algebra” Linear Algebra and Its Applications, David C. Lay Linear Algebra Done Right, Sheldon Axler MIT 18.06 Linear Algebra Course: https://ocw.mit.edu/courses/18-06-linear-algebra-spring-2010/ ","wordCount":"1182","inLanguage":"en","datePublished":"2025-01-01T00:00:00+08:00","dateModified":"2025-01-01T00:00:00+08:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://akzj.github.io/llm-basics-for-beginners/matrix_basics/"},"publisher":{"@type":"Organization","name":"LLM Basics for Beginners","logo":{"@type":"ImageObject","url":"https://akzj.github.io/llm-basics-for-beginners/favicon.ico"}}}</script></head><body id=top><header class=header><nav class=nav><div class=logo><a href=https://akzj.github.io/llm-basics-for-beginners/ accesskey=h title="LLM Basics for Beginners (Alt + H)">LLM Basics for Beginners</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme"><svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://akzj.github.io/llm-basics-for-beginners/ title=首页><span>首页</span></a></li><li><a href=https://akzj.github.io/llm-basics-for-beginners/matrix_basics/ title=矩阵基础><span class=active>矩阵基础</span></a></li><li><a href=https://akzj.github.io/llm-basics-for-beginners/about/ title=关于><span>关于</span></a></li><li><a href=https://akzj.github.io/llm-basics-for-beginners/softmax/ title=Softmax函数><span>Softmax函数</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">矩阵基础知识</h1><div class=post-meta><span title='2025-01-01 00:00:00 +0800 CST'>January 1, 2025</span></div></header><div class=post-content><h1 id=矩阵基础知识>矩阵基础知识<a hidden class=anchor aria-hidden=true href=#矩阵基础知识>#</a></h1><h2 id=矩阵定义>矩阵定义<a hidden class=anchor aria-hidden=true href=#矩阵定义>#</a></h2><p><strong>矩阵</strong>是一个由数值排列成的矩形阵列，是线性代数中的基本概念。</p><h3 id=矩阵的维度>矩阵的维度<a hidden class=anchor aria-hidden=true href=#矩阵的维度>#</a></h3><p>一个具有 ( m ) 行和 ( n ) 列的矩阵被称为 ( m \times n ) 矩阵。</p><p>$$
A = \begin{bmatrix}
a_{11} & a_{12} & \cdots & a_{1n} \
a_{21} & a_{22} & \cdots & a_{2n} \
\vdots & \vdots & \ddots & \vdots \
a_{m1} & a_{m2} & \cdots & a_{mn} \
\end{bmatrix}
$$</p><h3 id=矩阵的元素>矩阵的元素<a hidden class=anchor aria-hidden=true href=#矩阵的元素>#</a></h3><p>矩阵中的每个数值称为<strong>元素</strong>，通常用 ( a_{ij} ) 表示第 ( i ) 行第 ( j ) 列的元素。</p><h2 id=特殊类型的矩阵>特殊类型的矩阵<a hidden class=anchor aria-hidden=true href=#特殊类型的矩阵>#</a></h2><table><thead><tr><th>类型</th><th>定义</th><th>示例</th></tr></thead><tbody><tr><td>行矩阵（Row Matrix）</td><td>只有一行的矩阵</td><td>$[1, 2, 3]$ 或 $\begin{pmatrix} 1 & 2 & 3 \end{pmatrix}$</td></tr><tr><td>列矩阵（Column Matrix）</td><td>只有一列的矩阵</td><td>$[1; 2; 3]$ 或 $\begin{pmatrix} 1 \ 2 \ 3 \end{pmatrix}$</td></tr><tr><td>方阵（Square Matrix）</td><td>行数等于列数的矩阵</td><td>$[[1, 2], [3, 4]]$ 或 $\begin{pmatrix} 1 & 2 \ 3 & 4 \end{pmatrix}$</td></tr><tr><td>零矩阵（Zero Matrix）</td><td>所有元素都为0的矩阵</td><td>$\begin{pmatrix} 0 & 0 \ 0 & 0 \end{pmatrix}$</td></tr><tr><td>单位矩阵（Identity Matrix）</td><td>主对角线上元素为1，其余为0的方阵</td><td>$\begin{pmatrix} 1 & 0 \ 0 & 1 \end{pmatrix}$</td></tr><tr><td>对角矩阵（Diagonal Matrix）</td><td>只有主对角线上有非零元素的方阵</td><td>$\begin{pmatrix} 2 & 0 \ 0 & 3 \end{pmatrix}$</td></tr><tr><td>对称矩阵（Symmetric Matrix）</td><td>满足 $A^T = A$ 的方阵</td><td>$\begin{pmatrix} 1 & 2 \ 2 & 1 \end{pmatrix}$</td></tr><tr><td>上三角矩阵（Upper Triangular Matrix）</td><td>主对角线下方元素都为0的方阵</td><td>$\begin{pmatrix} 1 & 2 \ 0 & 3 \end{pmatrix}$</td></tr><tr><td>下三角矩阵（Lower Triangular Matrix）</td><td>主对角线上方元素都为0的方阵</td><td>$\begin{pmatrix} 1 & 0 \ 2 & 3 \end{pmatrix}$</td></tr></tbody></table><h2 id=矩阵示例说明>矩阵示例说明<a hidden class=anchor aria-hidden=true href=#矩阵示例说明>#</a></h2><p>为了更清晰地表示矩阵，我们可以使用不同的表示法：</p><ul><li><strong>行矩阵</strong>：$[1, 2, 3]$ 或 $\begin{pmatrix} 1 & 2 & 3 \end{pmatrix}$</li><li><strong>列矩阵</strong>：$[1; 2; 3]$ 或 $\begin{pmatrix} 1 \ 2 \ 3 \end{pmatrix}$</li><li><strong>方阵</strong>：$[[1, 2], [3, 4]]$ 或 $\begin{pmatrix} 1 & 2 \ 3 & 4 \end{pmatrix}$</li></ul><h2 id=矩阵运算>矩阵运算<a hidden class=anchor aria-hidden=true href=#矩阵运算>#</a></h2><h3 id=1-矩阵加法>1. 矩阵加法<a hidden class=anchor aria-hidden=true href=#1-矩阵加法>#</a></h3><p>两个相同维度的矩阵可以相加，结果是对应元素相加得到的新矩阵。</p><p><strong>定义</strong>：若 ( A = [a_{ij}] ) 和 ( B = [b_{ij}] ) 都是 ( m \times n ) 矩阵，则 ( A + B = [a_{ij} + b_{ij}] )。</p><p><strong>示例</strong>：</p><p>$$
\begin{pmatrix} 1 & 2 \ 3 & 4 \end{pmatrix} + \begin{pmatrix} 5 & 6 \ 7 & 8 \end{pmatrix} = \begin{pmatrix} 6 & 8 \ 10 & 12 \end{pmatrix}
$$</p><h3 id=2-矩阵数乘>2. 矩阵数乘<a hidden class=anchor aria-hidden=true href=#2-矩阵数乘>#</a></h3><p>一个数（标量）可以与矩阵相乘，结果是矩阵的每个元素都乘以该数。</p><p><strong>定义</strong>：若 ( A = [a_{ij}] ) 是 ( m \times n ) 矩阵，( k ) 是一个标量，则 ( kA = [ka_{ij}] )。</p><p><strong>示例</strong>：</p><p>$$
2 \times \begin{pmatrix} 1 & 2 \ 3 & 4 \end{pmatrix} = \begin{pmatrix} 2 & 4 \ 6 & 8 \end{pmatrix}
$$</p><h3 id=3-矩阵乘法>3. 矩阵乘法<a hidden class=anchor aria-hidden=true href=#3-矩阵乘法>#</a></h3><p>矩阵乘法是矩阵运算中最重要的运算之一。</p><p><strong>定义</strong>：若 ( A ) 是 ( m \times p ) 矩阵，( B ) 是 ( p \times n ) 矩阵，则 ( AB ) 是 ( m \times n ) 矩阵，其中：</p><p>$$
(AB)<em>{ij} = \sum</em>{k=1}^p a_{ik}b_{kj}
$$</p><p><strong>示例</strong>：</p><p>$$
\begin{pmatrix} 1 & 2 \ 3 & 4 \end{pmatrix} \times \begin{pmatrix} 5 & 6 \ 7 & 8 \end{pmatrix} = \begin{pmatrix} 19 & 22 \ 43 & 50 \end{pmatrix}
$$</p><p><strong>注意</strong>：矩阵乘法不满足交换律，即 ( AB \neq BA )（一般情况下）。</p><h3 id=4-矩阵转置>4. 矩阵转置<a hidden class=anchor aria-hidden=true href=#4-矩阵转置>#</a></h3><p>矩阵的转置是将矩阵的行和列互换。</p><p><strong>定义</strong>：若 ( A = [a_{ij}] ) 是 ( m \times n ) 矩阵，则转置矩阵 ( A^T = [a_{ji}] ) 是 ( n \times m ) 矩阵。</p><p><strong>示例</strong>：</p><p>$$
\begin{pmatrix} 1 & 2 \ 3 & 4 \ 5 & 6 \end{pmatrix}^T = \begin{pmatrix} 1 & 3 & 5 \ 2 & 4 & 6 \end{pmatrix}
$$</p><p><strong>性质</strong>：</p><ul><li>( (A^T)^T = A )</li><li>( (A + B)^T = A^T + B^T )</li><li>( (AB)^T = B^T A^T )</li></ul><h2 id=矩阵的逆>矩阵的逆<a hidden class=anchor aria-hidden=true href=#矩阵的逆>#</a></h2><h3 id=定义>定义<a hidden class=anchor aria-hidden=true href=#定义>#</a></h3><p>对于一个 ( n \times n ) 方阵 ( A )，如果存在另一个 ( n \times n ) 方阵 ( B )，使得：</p><p>$$
AB = BA = I_n
$$</p><p>其中 ( I_n ) 是 ( n \times n ) 单位矩阵，则称 ( A ) 是<strong>可逆的</strong>或<strong>非奇异的</strong>，并称 ( B ) 是 ( A ) 的<strong>逆矩阵</strong>，记作 ( A^{-1} )。</p><h3 id=逆矩阵的性质>逆矩阵的性质<a hidden class=anchor aria-hidden=true href=#逆矩阵的性质>#</a></h3><ol><li>( (A^{-1})^{-1} = A )</li><li>( (kA)^{-1} = \frac{1}{k}A^{-1} )（( k \neq 0 )）</li><li>( (AB)^{-1} = B^{-1}A^{-1} )</li><li>( (A^T)^{-1} = (A^{-1})^T )</li></ol><h3 id=如何求逆矩阵>如何求逆矩阵<a hidden class=anchor aria-hidden=true href=#如何求逆矩阵>#</a></h3><p>对于 ( 2 \times 2 ) 矩阵，有一个简单的逆矩阵公式：</p><p>$$
\text{若 } A = \begin{pmatrix} a & b \ c & d \end{pmatrix}, \text{ 则 } A^{-1} = \frac{1}{ad - bc} \begin{pmatrix} d & -b \ -c & a \end{pmatrix}
$$</p><p>其中 ( ad - bc ) 称为 ( A ) 的<strong>行列式</strong>（Determinant），记作 ( \det(A) )。如果 ( \det(A) = 0 )，则矩阵 ( A ) 是<strong>奇异的</strong>，没有逆矩阵。</p><h2 id=矩阵的应用>矩阵的应用<a hidden class=anchor aria-hidden=true href=#矩阵的应用>#</a></h2><h3 id=在线性代数中>在线性代数中<a hidden class=anchor aria-hidden=true href=#在线性代数中>#</a></h3><ul><li>解线性方程组：( Ax = b )</li><li>向量空间的线性变换</li><li>特征值和特征向量分析</li></ul><h3 id=在机器学习中>在机器学习中<a hidden class=anchor aria-hidden=true href=#在机器学习中>#</a></h3><ul><li>数据表示（特征矩阵、权重矩阵）</li><li>线性回归、逻辑回归</li><li>神经网络（权重矩阵、激活函数）</li><li>主成分分析（PCA）</li><li>奇异值分解（SVD）</li></ul><h3 id=在llm中的应用>在LLM中的应用<a hidden class=anchor aria-hidden=true href=#在llm中的应用>#</a></h3><ul><li>词向量表示</li><li>注意力机制中的查询（Query）、键（Key）、值（Value）矩阵</li><li>多头注意力中的投影矩阵</li><li>前馈神经网络中的权重矩阵</li><li>层归一化中的参数矩阵</li></ul><h2 id=行列式determinant>行列式（Determinant）<a hidden class=anchor aria-hidden=true href=#行列式determinant>#</a></h2><h3 id=定义-1>定义<a hidden class=anchor aria-hidden=true href=#定义-1>#</a></h3><p>行列式是一个将方阵映射到标量的函数，记作 ( \det(A) ) 或 ( |A| )。</p><h3 id=计算方法>计算方法<a hidden class=anchor aria-hidden=true href=#计算方法>#</a></h3><ul><li><p><strong>2x2矩阵</strong>：</p><p>$$
\det\begin{pmatrix} a & b \ c & d \end{pmatrix} = ad - bc
$$</p></li><li><p><strong>3x3矩阵</strong>：</p><p>$$
\det\begin{pmatrix} a & b & c \ d & e & f \ g & h & i \end{pmatrix} = a(ei - fh) - b(di - fg) + c(dh - eg)
$$</p></li><li><p><strong>n阶矩阵</strong>：使用余子式展开</p></li></ul><h3 id=行列式的性质>行列式的性质<a hidden class=anchor aria-hidden=true href=#行列式的性质>#</a></h3><ol><li>( \det(I_n) = 1 )</li><li>( \det(AB) = \det(A)\det(B) )</li><li>( \det(A^T) = \det(A) )</li><li>若矩阵的某一行（或列）全为0，则行列式为0</li><li>若矩阵的某一行（或列）乘以常数 ( k )，则行列式变为原来的 ( k ) 倍</li></ol><h2 id=特征值和特征向量>特征值和特征向量<a hidden class=anchor aria-hidden=true href=#特征值和特征向量>#</a></h2><h3 id=定义-2>定义<a hidden class=anchor aria-hidden=true href=#定义-2>#</a></h3><p>对于 ( n imes n ) 方阵 ( A )，如果存在标量 ( \lambda ) 和非零向量 ( v )，使得：</p><p>$$
Av = \lambda v
$$</p><p>则称 ( \lambda ) 是 ( A ) 的<strong>特征值</strong>，( v ) 是 ( A ) 对应于 ( \lambda ) 的<strong>特征向量</strong>。</p><h3 id=求解方法>求解方法<a hidden class=anchor aria-hidden=true href=#求解方法>#</a></h3><p>特征值可以通过求解特征方程得到：</p><p>$$
\det(A - \lambda I) = 0
$$</p><h3 id=特征值和特征向量的性质>特征值和特征向量的性质<a hidden class=anchor aria-hidden=true href=#特征值和特征向量的性质>#</a></h3><ol><li>矩阵 ( A ) 的所有特征值之和等于 ( A ) 的迹（主对角线元素之和）</li><li>矩阵 ( A ) 的所有特征值之积等于 ( \det(A) )</li><li>若 ( A ) 是对称矩阵，则其特征值都是实数，且特征向量正交</li></ol><h3 id=在llm中的应用-1>在LLM中的应用<a hidden class=anchor aria-hidden=true href=#在llm中的应用-1>#</a></h3><ul><li>主成分分析（PCA）降维</li><li>矩阵分解（如SVD）</li><li>理解神经网络的权重分布</li><li>注意力机制中的重要性分析</li></ul><h2 id=矩阵分解>矩阵分解<a hidden class=anchor aria-hidden=true href=#矩阵分解>#</a></h2><h3 id=定义-3>定义<a hidden class=anchor aria-hidden=true href=#定义-3>#</a></h3><p>矩阵分解是将一个矩阵表示为多个简单矩阵的乘积。</p><h3 id=常见的矩阵分解>常见的矩阵分解<a hidden class=anchor aria-hidden=true href=#常见的矩阵分解>#</a></h3><ol><li><strong>LU分解</strong>：( A = LU )，其中 ( L ) 是下三角矩阵，( U ) 是上三角矩阵</li><li><strong>QR分解</strong>：( A = QR )，其中 ( Q ) 是正交矩阵，( R ) 是上三角矩阵</li><li><strong>奇异值分解（SVD）</strong>：( A = U\Sigma V^T )，其中 ( U ) 和 ( V ) 是正交矩阵，( \Sigma ) 是对角矩阵</li><li><strong>特征值分解</strong>：( A = V\Lambda V^{-1} )，其中 ( \Lambda ) 是对角矩阵（包含特征值），( V ) 是特征向量矩阵</li></ol><h3 id=奇异值分解svd在llm中的应用>奇异值分解（SVD）在LLM中的应用<a hidden class=anchor aria-hidden=true href=#奇异值分解svd在llm中的应用>#</a></h3><p>SVD是LLM中非常重要的矩阵分解方法，用于：</p><ul><li>词向量的降维和压缩</li><li>主题模型分析（如LSA）</li><li>推荐系统</li><li>文本摘要和信息检索</li></ul><h2 id=矩阵的秩>矩阵的秩<a hidden class=anchor aria-hidden=true href=#矩阵的秩>#</a></h2><h3 id=定义-4>定义<a hidden class=anchor aria-hidden=true href=#定义-4>#</a></h3><p>矩阵的秩是矩阵中行向量或列向量的最大线性无关组的大小，记作 ( \text{rank}(A) )。</p><h3 id=性质>性质<a hidden class=anchor aria-hidden=true href=#性质>#</a></h3><ol><li>( 0 \leq \text{rank}(A) \leq \min(m, n) )（( A ) 是 ( m \times n ) 矩阵）</li><li>( \text{rank}(A^T) = \text{rank}(A) )</li><li>( \text{rank}(AB) \leq \min(\text{rank}(A), \text{rank}(B)) )</li><li>( A ) 是可逆矩阵当且仅当 ( \text{rank}(A) = n )（( A ) 是 ( n \times n ) 方阵）</li></ol><h2 id=线性变换>线性变换<a hidden class=anchor aria-hidden=true href=#线性变换>#</a></h2><h3 id=定义-5>定义<a hidden class=anchor aria-hidden=true href=#定义-5>#</a></h3><p>矩阵可以表示向量空间中的线性变换。对于 ( n ) 维向量 ( x )，线性变换 ( T ) 可以表示为：</p><p>$$
T(x) = Ax
$$</p><p>其中 ( A ) 是 ( m \times n ) 矩阵。</p><h3 id=常见的线性变换>常见的线性变换<a hidden class=anchor aria-hidden=true href=#常见的线性变换>#</a></h3><ul><li>旋转（Rotation）</li><li>缩放（Scaling）</li><li>反射（Reflection）</li><li>投影（Projection）</li></ul><h3 id=在线性代数中的应用>在线性代数中的应用<a hidden class=anchor aria-hidden=true href=#在线性代数中的应用>#</a></h3><p>线性变换是线性代数的核心概念之一，用于：</p><ul><li>理解向量空间的结构</li><li>解线性方程组</li><li>分析矩阵的性质</li></ul><h2 id=矩阵的范数>矩阵的范数<a hidden class=anchor aria-hidden=true href=#矩阵的范数>#</a></h2><h3 id=定义-6>定义<a hidden class=anchor aria-hidden=true href=#定义-6>#</a></h3><p>矩阵的范数是一个将矩阵映射到非负实数的函数，用于衡量矩阵的大小或长度。</p><h3 id=常见的矩阵范数>常见的矩阵范数<a hidden class=anchor aria-hidden=true href=#常见的矩阵范数>#</a></h3><ol><li><p><strong>1-范数</strong>（列和范数）：</p><p>$$
|A|<em>1 = \max</em>{1 \leq j \leq n} \sum_{i=1}^m |a_{ij}|
$$</p></li><li><p><strong>∞-范数</strong>（行和范数）：</p><p>$$
|A|<em>\infty = \max</em>{1 \leq i \leq m} \sum_{j=1}^n |a_{ij}|
$$</p></li><li><p><strong>Frobenius范数</strong>：</p><p>$$
|A|<em>F = \sqrt{\sum</em>{i=1}^m \sum_{j=1}^n |a_{ij}|^2}
$$</p></li><li><p><strong>2-范数</strong>（谱范数）：</p><p>$$
|A|<em>2 = \sqrt{\lambda</em>{\text{max}}(A^TA)}
$$</p><p>其中 ( \lambda_{\text{max}}(A^TA) ) 是 ( A^TA ) 的最大特征值。</p></li></ol><h3 id=矩阵范数的性质>矩阵范数的性质<a hidden class=anchor aria-hidden=true href=#矩阵范数的性质>#</a></h3><ol><li>非负性：( |A| \geq 0 )，且 ( |A| = 0 ) 当且仅当 ( A = 0 )</li><li>齐次性：( |kA| = |k||A| )（( k ) 是标量）</li><li>三角不等式：( |A + B| \leq |A| + |B| )</li><li>次乘性：( |AB| \leq |A||B| )</li></ol><h2 id=矩阵的条件数>矩阵的条件数<a hidden class=anchor aria-hidden=true href=#矩阵的条件数>#</a></h2><h3 id=定义-7>定义<a hidden class=anchor aria-hidden=true href=#定义-7>#</a></h3><p>矩阵的条件数用于衡量矩阵的“病态程度”，即矩阵对输入扰动的敏感程度。对于非奇异矩阵 ( A )，其条件数定义为：</p><p>$$
\text{cond}(A) = |A||A^{-1}|
$$</p><h3 id=条件数的性质>条件数的性质<a hidden class=anchor aria-hidden=true href=#条件数的性质>#</a></h3><ol><li>( \text{cond}(A) \geq 1 )</li><li>( \text{cond}(kA) = \text{cond}(A) )（( k \neq 0 )）</li><li>( \text{cond}(AB) \leq \text{cond}(A)\text{cond}(B) )</li></ol><h3 id=应用>应用<a hidden class=anchor aria-hidden=true href=#应用>#</a></h3><p>条件数在线性方程组求解中非常重要：</p><ul><li>如果 ( \text{cond}(A) ) 很大，矩阵 ( A ) 是<strong>病态的</strong>，求解 ( Ax = b ) 时对输入扰动很敏感</li><li>如果 ( \text{cond}(A) ) 接近1，矩阵 ( A ) 是<strong>良态的</strong>，求解 ( Ax = b ) 时结果稳定</li></ul><h2 id=总结>总结<a hidden class=anchor aria-hidden=true href=#总结>#</a></h2><p>矩阵是线性代数的核心概念，也是LLM中最重要的数学工具之一。理解矩阵的基本概念、运算规则和应用场景对于掌握LLM的工作原理至关重要。</p><p>在LLM中，矩阵主要用于：</p><ul><li>词向量的表示和转换</li><li>注意力机制中的相似度计算</li><li>神经网络中的权重表示和计算</li><li>模型参数的优化和训练</li></ul><p>掌握矩阵的基础知识是学习LLM的重要数学基础，希望本文能够帮助你更好地理解矩阵的概念和应用。</p><h2 id=进一步学习资源>进一步学习资源<a hidden class=anchor aria-hidden=true href=#进一步学习资源>#</a></h2><ul><li>Gilbert Strang, &ldquo;Introduction to Linear Algebra&rdquo;</li><li>Linear Algebra and Its Applications, David C. Lay</li><li>Linear Algebra Done Right, Sheldon Axler</li><li>MIT 18.06 Linear Algebra Course: <a href=https://ocw.mit.edu/courses/18-06-linear-algebra-spring-2010/>https://ocw.mit.edu/courses/18-06-linear-algebra-spring-2010/</a></li></ul></div><footer class=post-footer><ul class=post-tags></ul></footer></article></main><footer class=footer><span>&copy; 2025 <a href=https://akzj.github.io/llm-basics-for-beginners/>LLM Basics for Beginners</a></span> ·
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");if(menu){const e=localStorage.getItem("menu-scroll-position");e&&(menu.scrollLeft=parseInt(e,10)),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}}document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{const e=document.querySelector("html");e.dataset.theme==="dark"?(e.dataset.theme="light",localStorage.setItem("pref-theme","light")):(e.dataset.theme="dark",localStorage.setItem("pref-theme","dark"))})</script></body></html>